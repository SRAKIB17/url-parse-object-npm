"use strict"; var _Url_url, _Url_urlString, __assign = this && this.__assign || function () { return (__assign = Object.assign || function (t) { for (var r, n = 1, a = arguments.length; n < a; n++)for (var o in r = arguments[n]) Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o]); return t }).apply(this, arguments) }, __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (t, r, n, a, o) { if ("m" === a) throw TypeError("Private method is not writable"); if ("a" === a && !o) throw TypeError("Private accessor was defined without a setter"); if ("function" == typeof r ? t !== r || !o : !r.has(t)) throw TypeError("Cannot write private member to an object whose class did not declare it"); return "a" === a ? o.call(t, n) : o ? o.value = n : r.set(t, n), n }, __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (t, r, n, a) { if ("a" === n && !a) throw TypeError("Private accessor was defined without a getter"); if ("function" == typeof r ? t !== r || !a : !r.has(t)) throw TypeError("Cannot read private member from an object whose class did not declare it"); return "m" === n ? a : "a" === n ? a.call(t) : a ? a.value : r.get(t) }, __spreadArray = this && this.__spreadArray || function (t, r, n) { if (n || 2 === arguments.length) for (var a, o = 0, e = r.length; o < e; o++)!a && o in r || (a || (a = Array.prototype.slice.call(r, 0, o)), a[o] = r[o]); return t.concat(a || Array.prototype.slice.call(r)) }; Object.defineProperty(exports, "__esModule", { value: !0 }); var Url = function () { function t(t) { _Url_url.set(this, void 0), _Url_urlString.set(this, void 0), __classPrivateFieldSet(this, _Url_url, t, "f"); var r, n, a = this.urlParse, o = a.protocol, e = a.hash, i = a.hostname, c = (a.origin, a.password), l = a.path, s = a.port, u = a.query, d = a.username, h = null === (n = null === (r = null == Object ? void 0 : Object.entries(u)) || void 0 === r ? void 0 : r.map(function (t) { return "".concat(null == t ? void 0 : t[0], "=").concat(null == t ? void 0 : t[1]) })) || void 0 === n ? void 0 : n.join("&"); __classPrivateFieldSet(this, _Url_urlString, "".concat(o ? "".concat(o, "://") : "").concat(d || "").concat(c ? ":".concat(c, "@") : d ? "@" : "").concat(i || "", ":").concat(s || "").concat(l || "").concat(h ? "?".concat(h) : "").concat(e ? "#".concat(e) : ""), "f") } return Object.defineProperty(t.prototype, "urlParse", { get: function () { var t, r = __classPrivateFieldGet(this, _Url_url, "f"), n = /\?([^#]*)/, a = r.match(/^(?:(\w+):\/\/)?(?:([^:]+)(?::([^@]+))?@)?([a-zA-Z0-9.-]+|(?:\d{1,3}\.){3}\d{1,3}|\[[a-fA-F0-9:]+\])(?::(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?$/), o = r.match(/#([^]*)/), e = o && o[1] || null, i = a && a[1] || null, c = a && a[2] || null, l = a && a[3] || null, s = a && a[4] || null, u = a && a[5] || null, d = (null === (t = null == r ? void 0 : r.match(/(?:^[^:]+:\/\/[^/]+)?(\/[^?#]*)/)) || void 0 === t ? void 0 : t[1]) || null, h = a && (s ? i ? "".concat(i, "://").concat(s).concat(u ? ":".concat(u) : "") : "".concat(s).concat(u ? ":".concat(u) : "") : null) || null; return { path: d, hash: e, protocol: i, origin: h, username: c, password: l, hostname: s, href: r, port: u, query: function t() { var a = r.match(n); if (!a || !a[1]) return {}; var o = decodeURIComponent(a[1]).split("&"), e = null == o ? void 0 : o.map(function (t) { var r, n = t.split("="), a = n[0], o = n[1]; return (r = {})[a] = o, r }); return Object.assign.apply(Object, __spreadArray([{}], e, !1)) }() } }, enumerable: !1, configurable: !0 }), t.prototype.get = function (t) { return this.urlParse[t] }, t.prototype.toString = function () { return __classPrivateFieldGet(this, _Url_urlString, "f") }, t.prototype.set = function (t, r) { var n, a, o, e = __assign(__assign({}, this.urlParse), ((n = {})[t] = r, n)), i = e.protocol, c = e.hash, l = e.hostname, s = (e.origin, e.password), u = e.path, d = e.port, h = e.query, v = e.username, p = null === (o = null === (a = null == Object ? void 0 : Object.entries(h)) || void 0 === a ? void 0 : a.map(function (t) { return "".concat(null == t ? void 0 : t[0], "=").concat(null == t ? void 0 : t[1]) })) || void 0 === o ? void 0 : o.join("&"); __classPrivateFieldSet(this, _Url_urlString, "".concat(i ? "".concat(i, "://") : "").concat(v || "").concat(s ? ":".concat(s, "@") : v ? "@" : "").concat(l || "", ":").concat(d || "").concat(u || "").concat(p ? "?".concat(p) : "").concat(c ? "#".concat(c) : ""), "f") }, t }(); _Url_url = new WeakMap, _Url_urlString = new WeakMap, exports.default = Url;
module.exports = Url;

